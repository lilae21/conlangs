<!DOCTYPE html>
<html lang="en">
<head>
  <title>DUNDULANYÄ ONLINE DICTIONARY - Lilaë&apos;s Conlangs</title>
  <meta charset="UTF-8">
  <meta name="keywords" content="conlangs, constructed languages, Dundulanyä, Eventoa, conlanging">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://unpkg.com/phosphor-icons"></script>
  <link rel="stylesheet" href="../css/dundu.css">
  <link rel="apple-touch-icon" sizes="180x180" href="../asset/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="../asset/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../asset/favicon-16x16.png">
  <style>
        input {
            width: 92%;
            padding: 10px;
            margin-bottom: 10px;
            margin-left: 12px;
            border: 2px solid rgba(210, 77, 255, 0.9);
            background-color: rgba(246, 213, 246, 0.3);
            border-radius: 12px;
        }
        input::placeholder {
            font-style: italic;
            font-size: 15px;
            color: rgb(120, 58, 120);
        }
        input:focus {
            font-size: 15px;
            color: rgb(67, 10, 67);
            box-shadow: 0 0 8px rgba(224, 179, 255, 0.5);
            border: 3px solid rgba(210, 77, 255, 0.9);
            outline: none;
        }
        .results { border-bottom: 1px solid rgba(210, 77, 255, 0.9); padding: 10px 0; }
        .word {
            font-size: 20px;
            font-weight: 600;
            color: rgb(64, 0, 128);
        }
        .defs { font-size: 18px; font-weight: 500; }
        .leg { font-size: 15px; font-weight: 400; font-style: italic; }
        .letters a {
            font-weight: 550;
        }
  </style>
</head>
<body>
  <h1>The Dundulanyä online dictionary</h1>
  <h5>A searchable dictionary of Dundulanyä words</h5>
  <div class="fixed dropdown"><p>me<br>nu</p>
      <div class="dropdown-content">
      <i><a href="../dundu.htm">Dundulanyä main page</a></i>
      </div>
    </div>
  <p>This page is a work in progress. Type an English word or letter sequence &#8211; at least two characters &#8211; in the text field below to see the Dundulanyä translation &#8212; if it is included in the dictionary so far.</p>
  <p style="text-align:center;">All lemmas beginning with:
    <span class="letters">
        <a href="dictionary-letters/a.htm">A</a> &middot;
        <a href="dictionary-letters/ae.htm">Ä</a> &middot;
        <a href="dictionary-letters/b.htm">B</a> &middot;
        <a href="dictionary-letters/bh.htm">BH</a> &middot;
        <a href="dictionary-letters/b-tilde.htm">B̃</a> &middot;
        <a href="dictionary-letters/bh-tilde.htm">B̃H</a> &middot;
        <a href="dictionary-letters/c.htm">C</a> &middot;
        <a href="dictionary-letters/ch.htm">CH</a> &middot;
        <a href="dictionary-letters/d.htm">D</a> &middot;
        <a href="dictionary-letters/dh.htm">DH</a> &middot;
        <a href="dictionary-letters/d-dot.htm">Ḍ</a> &middot;
        <a href="dictionary-letters/dh-dot.htm">ḌH</a> &middot;
    </span>
  </p>
  <input type="text" id="search" placeholder="Search...">
    <div id="results"></div>

    <script>
        const fileList = [
            "../dundu-dict/a.json",
            "../dundu-dict/ae.json",
            "../dundu-dict/b.json",
            "../dundu-dict/bh.json",
            "../dundu-dict/b-tilde.json",
            "../dundu-dict/c.json",
            "../dundu-dict/ch.json",
            "../dundu-dict/d.json",
            "../dundu-dict/dh.json",
            "../dundu-dict/d-dot.json",
            "../dundu-dict/dh-dot.json",
            "../dundu-dict/e.json",
            "../dundu-dict/l.json",
            "../dundu-dict/r.json",
            "../dundu-dict/s.json",
            "../dundu-dict/s-acute.json"
        ];
        let dizionario = [];

        async function caricaDizionario() {
            dizionario = [];

            for (const file of fileList) {
                try {
                    const res = await fetch(file);
                    if (!res.ok) throw new Error(`Errore HTTP nel file ${file}`);
                    const data = await res.json();
                    dizionario.push(...data);
                    console.log(`✔ File ${file} caricato con successo.`);
                } catch (err) {
                    console.error(`❌ Errore nel file ${file}:`, err.message);
                }
            }
            console.log("Dati totali caricati:", dizionario.length);
        }
        function cercaParola(termine) {
            const risultati = dizionario.filter(entry =>
            entry.defs.some(def => def.toLowerCase().includes(termine.toLowerCase()))
            );
            mostraRisultati(risultati);
        }

        function mostraRisultati(risultati) {
            const resultsDiv = document.getElementById("results");
            resultsDiv.innerHTML = risultati.map(entry => `
                <div id="results">
                    <blockquote>
                    <span class="word">${entry.word}</span> <small>(<i>${entry.pos}, ${entry.class}, √${entry.root}</i>)</small> &#8212; <span class="defs">${entry.defs.join(", ")}</span></br>
                    ${entry.etym ? `<span class="leg">Etymology:</span> ${entry.etym}</br>` : ""}
                    ${entry.note ? `<span class="leg">Notes:</span> ${entry.note}` : ""}
                    </blockquote>
                </div>
            `).join("");
        }

        document.getElementById("search").addEventListener("input", (e) => {
            const termine = e.target.value.trim();
            if (termine.length > 1) {
                cercaParola(termine);
            } else {
            document.getElementById("results").innerHTML = ""; // svuota i risultati
            }
        });

        caricaDizionario();
    </script>
  <script src="../parts/footer.js"></script>
</body>
</html>
